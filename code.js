(()=>{"use strict";function e(e){return e.replace(/[\W_]+/g," ").trim()}function t(e){const t=(n=e,figma.getLocalPaintStyles().find((e=>e.name===n)));var n;return{r:Math.floor(255*t.paints[0].color.r),g:Math.floor(255*t.paints[0].color.g),b:Math.floor(255*t.paints[0].color.b)}}const n={pendingColor:t("ds-status/Pending"),inProgressColor:t("ds-status/In Progress"),fixesColor:t("ds-status/Fixes"),reviewColor:t("ds-status/Review"),tbdColor:t("ds-status/TBD"),approvedColor:t("ds-status/Approved")};function a(e,t){figma.currentPage.findOne((e=>e.name===t)).findOne((e=>".DS-status"===e.name)).setProperties({status:`${e}`})}figma.root.findOne((e=>"🧨 .DO NOT TOUCH!!! - internal tools"===e.name&&"PAGE"===e.type))||(figma.closePlugin(),figma.notify('Please, add "🧨 .DO NOT TOUCH!!! - internal tools" page to your project')),figma.showUI(__html__),figma.ui.resize(250,520),figma.ui.postMessage(n);const o=(()=>{const e={},t=figma.currentPage.selection;return 0!=t.length&&(e.length=t.length,e.type=t[0].type,e.name=t[0].name,e.parent=t[0].parent,e.content=t,e)})();figma.ui.onmessage=t=>{o&&o.name!==e(figma.currentPage.name)||function(t){const n=figma.currentPage;n.findAll((e=>".DS-status"===e.name)).forEach((a=>{a.parent.parent.name===e(n.name)&&a.setProperties({status:`${t}`})}));const a=/['🟣🟡⚪️🟢🔴🔵⚫️🟠']/u;var o,s,r;o=a,s=n.name,o.test(s)&&(n.name=n.name.replace(a,"pending"===(r=t)?"🟣":"in progress"===r?"🟡":"fixes"===r?"🔴":"review"===r?"🔵":"tbd"===r?"⚪️":"approved"===r?"🟢":"⚫️"))}(t.type),o.length>1&&o.content.forEach((e=>{a(t.type,e.name)})),"QA"!==o.name&&"Documentation"!==o.name||a(t.type,o.name),figma.closePlugin()}})();